/*
	CREATE DATABASE A13;
	USE A13;
*/

CREATE TABLE Glumac(
	glumacID int IDENTITY(1,1),
	ime varchar(50),
	prezime varchar(70),
	datum_rodjenja date,
	mesto_rodjenja varchar(70)
);

CREATE TABLE Tip_Uloge(
	tip_ulogeID int IDENTITY(1,1),
	tip text
);

CREATE TABLE Zanr(
	zanrID int IDENTITY(1,1),
	naziv_zanra text
);

CREATE TABLE Film(
	filmID int IDENTITY(1,1),
	naziv varchar(100),
	datum_izlaska date,
	trajanje int,
	zanrID int,
	opis_radnje text
);

CREATE TABLE Uloga(
	filmID int  not null,
	glumacID int  not null,
	tip_ulogeID int,
	ime_lika varchar(100) not null,
	opis_lika text
);

CREATE TABLE Producent(
	producentID int IDENTITY(1,1),
	ime varchar(70),
	email varchar(100),
	website varchar(100)
);

CREATE TABLE Producirao(
	filmID int not null ,
	producentID int not null
);

CREATE TABLE Nagrada(
	nagradaID int IDENTITY(1,1),
	naziv varchar(70),
	godina_pocetka int
);

CREATE TABLE Film_Nagrada(
	filmID int not null,
	nagradaID int not null,
	godina_dodele int
);

/*Priamry keys*/

ALTER TABLE Glumac ADD CONSTRAINT PK_Glumac PRIMARY KEY (glumacID);
ALTER TABLE Zanr ADD CONSTRAINT PK_Zanr PRIMARY KEY (zanrID);
ALTER TABLE Tip_Uloge ADD CONSTRAINT PK_Tip_Uloge PRIMARY KEY (tip_ulogeID);
ALTER TABLE Film ADD CONSTRAINT PK_Film PRIMARY KEY (filmID);
ALTER TABLE Uloga ADD CONSTRAINT PK_Uloga PRIMARY KEY (filmID,glumacID,ime_lika);
ALTER TABLE Nagrada ADD CONSTRAINT PK_Nagrada PRIMARY KEY (nagradaID);
ALTER TABLE Producent ADD CONSTRAINT PK_Producent PRIMARY KEY (producentID);
ALTER TABLE Producirao ADD CONSTRAINT PK_Producirao PRIMARY KEY (filmID,producentID);
ALTER TABLE Film_Nagrada ADD CONSTRAINT PK_Film_Nagrada PRIMARY KEY (filmID,nagradaID);

INSERT INTO Glumac VALUES
	('Glumac1','Glumac1','1987.5.23','Mesto8'),
	('Glumac2','Glumac2','1992.5.24','Mesto2'),
	('Glumac3','Glumac3','1991.7.1','Mesto8'),
	('Glumac4','Glumac4','1998.3.6','Mesto8'),
	('Glumac5','Glumac5','1993.5.21','Mesto6'),
	('Glumac6','Glumac6','1987.5.25','Mesto4'),
	('Glumac7','Glumac7','1994.4.5','Mesto3'),
	('Glumac8','Glumac8','1993.8.29','Mesto8'),
	('Glumac9','Glumac9','1997.4.19','Mesto1'),
	('Glumac10','Glumac10','1993.5.13','Mesto4'),
	('Glumac11','Glumac11','1992.4.29','Mesto3'),
	('Glumac12','Glumac12','1993.4.22','Mesto5'),
	('Glumac13','Glumac13','1993.7.21','Mesto3'),
	('Glumac14','Glumac14','1996.9.10','Mesto9'),
	('Glumac15','Glumac15','1991.5.3','Mesto4'),
	('Glumac16','Glumac16','1988.7.15','Mesto6'),
	('Glumac17','Glumac17','1993.3.29','Mesto7'),
	('Glumac18','Glumac18','1991.3.8','Mesto4'),
	('Glumac19','Glumac19','1997.5.4','Mesto9'),
	('Glumac20','Glumac20','1989.6.24','Mesto5'),
	('Glumac21','Glumac21','1991.7.19','Mesto1'),
	('Glumac22','Glumac22','1986.7.2','Mesto9'),
	('Glumac23','Glumac23','1997.8.17','Mesto3'),
	('Glumac24','Glumac24','1987.3.5','Mesto9'),
	('Glumac25','Glumac25','1994.5.20','Mesto5'),
	('Glumac26','Glumac26','1987.9.2','Mesto5'),
	('Glumac27','Glumac27','1989.5.12','Mesto5'),
	('Glumac28','Glumac28','1996.5.18','Mesto9'),
	('Glumac29','Glumac29','1992.6.27','Mesto6'),
	('Glumac30','Glumac30','1998.6.16','Mesto9'),
	('Glumac31','Glumac31','1985.9.26','Mesto7'),
	('Glumac32','Glumac32','1992.9.5','Mesto8'),
	('Glumac33','Glumac33','1987.4.10','Mesto9'),
	('Glumac34','Glumac34','1997.5.11','Mesto5'),
	('Glumac35','Glumac35','1992.4.20','Mesto7'),
	('Glumac36','Glumac36','1989.7.6','Mesto5'),
	('Glumac37','Glumac37','1987.7.21','Mesto6'),
	('Glumac38','Glumac38','1987.6.1','Mesto2'),
	('Glumac39','Glumac39','1996.8.13','Mesto2'),
	('Glumac40','Glumac40','1986.5.29','Mesto4'),
	('Glumac41','Glumac41','1988.7.10','Mesto6'),
	('Glumac42','Glumac42','1985.7.3','Mesto2'),
	('Glumac43','Glumac43','1987.6.3','Mesto8'),
	('Glumac44','Glumac44','1996.8.19','Mesto5'),
	('Glumac45','Glumac45','1996.5.18','Mesto9'),
	('Glumac46','Glumac46','1988.6.18','Mesto6'),
	('Glumac47','Glumac47','1987.4.4','Mesto2'),
	('Glumac48','Glumac48','1997.3.11','Mesto3'),
	('Glumac49','Glumac49','1987.5.15','Mesto7'),
	('Glumac50','Glumac50','1988.6.16','Mesto5');

INSERT INTO Tip_Uloge VALUES
	('Tip1'),
	('Tip2'),
	('Tip3'),
	('Tip4'),
	('Tip5'),
	('Tip6'),
	('Tip7'),
	('Tip8'),
	('Tip9'),
	('Tip10');

INSERT INTO Zanr VALUES
	('Zanr1'),
	('Zanr2'),
	('Zanr3'),
	('Zanr4'),
	('Zanr5'),
	('Zanr6'),
	('Zanr7'),
	('Zanr8'),
	('Zanr9'),
	('Zanr10'),
	('Zanr11'),
	('Zanr12'),
	('Zanr13'),
	('Zanr14'),
	('Zanr15');

INSERT INTO Film VALUES
	('Film1','2014.5.3',105,13,'opis'),
	('Film2','2011.6.18',152,11,'opis'),
	('Film3','2014.6.29',131,12,'opis'),
	('Film4','2011.9.24',96,15,'opis'),
	('Film5','2017.6.28',82,7,'opis'),
	('Film6','2016.8.1',93,8,'opis'),
	('Film7','2013.3.12',74,9,'opis'),
	('Film8','2010.8.2',98,15,'opis'),
	('Film9','2017.8.25',150,5,'opis'),
	('Film10','2017.3.10',135,13,'opis'),
	('Film11','2011.9.10',172,11,'opis'),
	('Film12','2010.5.26',171,2,'opis'),
	('Film13','2013.6.10',94,5,'opis'),
	('Film14','2014.3.26',60,11,'opis'),
	('Film15','2013.9.15',97,3,'opis'),
	('Film16','2010.7.6',168,10,'opis'),
	('Film17','2016.6.11',113,6,'opis'),
	('Film18','2013.7.14',111,9,'opis'),
	('Film19','2015.8.4',87,10,'opis'),
	('Film20','2012.6.16',111,13,'opis'),
	('Film21','2017.4.9',168,7,'opis'),
	('Film22','2012.6.1',153,10,'opis'),
	('Film23','2013.4.29',97,6,'opis'),
	('Film24','2017.4.26',171,15,'opis'),
	('Film25','2016.6.13',114,2,'opis'),
	('Film26','2015.8.9',138,14,'opis'),
	('Film27','2014.3.23',71,13,'opis'),
	('Film28','2014.4.14',64,2,'opis'),
	('Film29','2018.7.21',154,3,'opis'),
	('Film30','2013.8.24',160,13,'opis'),
	('Film31','2010.7.18',119,1,'opis'),
	('Film32','2012.8.25',157,13,'opis'),
	('Film33','2014.4.11',167,2,'opis'),
	('Film34','2012.6.26',118,14,'opis'),
	('Film35','2015.8.25',159,15,'opis'),
	('Film36','2010.9.20',97,11,'opis'),
	('Film37','2016.9.13',160,13,'opis'),
	('Film38','2018.6.8',66,9,'opis'),
	('Film39','2017.5.20',87,9,'opis'),
	('Film40','2016.5.24',143,13,'opis'),
	('Film41','2018.9.10',174,3,'opis'),
	('Film42','2013.8.23',120,15,'opis'),
	('Film43','2013.3.16',76,1,'opis'),
	('Film44','2015.8.15',71,3,'opis'),
	('Film45','2017.4.25',170,2,'opis'),
	('Film46','2012.3.19',87,4,'opis'),
	('Film47','2016.3.28',116,11,'opis'),
	('Film48','2017.7.15',140,7,'opis'),
	('Film49','2011.7.23',70,3,'opis'),
	('Film50','2016.8.16',81,1,'opis'),
	('Film51','2010.8.21',127,15,'opis'),
	('Film52','2017.3.12',163,13,'opis'),
	('Film53','2012.3.17',92,4,'opis'),
	('Film54','2012.3.2',112,4,'opis'),
	('Film55','2018.4.25',137,15,'opis'),
	('Film56','2011.5.22',148,6,'opis'),
	('Film57','2014.6.13',82,3,'opis'),
	('Film58','2017.5.12',116,14,'opis'),
	('Film59','2016.4.19',157,3,'opis'),
	('Film60','2010.3.15',162,13,'opis'),
	('Film61','2015.8.3',170,2,'opis'),
	('Film62','2017.3.2',135,13,'opis'),
	('Film63','2013.5.20',115,6,'opis'),
	('Film64','2016.7.11',69,6,'opis'),
	('Film65','2018.8.18',124,9,'opis'),
	('Film66','2016.7.1',118,13,'opis'),
	('Film67','2010.9.26',165,13,'opis'),
	('Film68','2016.6.16',69,6,'opis'),
	('Film69','2017.5.23',135,8,'opis'),
	('Film70','2012.6.5',113,7,'opis'),
	('Film71','2013.8.12',118,14,'opis'),
	('Film72','2017.4.16',100,7,'opis'),
	('Film73','2011.9.17',152,13,'opis'),
	('Film74','2014.6.23',137,9,'opis'),
	('Film75','2012.4.9',142,8,'opis'),
	('Film76','2015.9.28',62,5,'opis'),
	('Film77','2011.6.17',66,7,'opis'),
	('Film78','2012.6.12',178,15,'opis'),
	('Film79','2015.9.6',139,4,'opis'),
	('Film80','2017.8.29',158,1,'opis'),
	('Film81','2017.8.15',162,3,'opis'),
	('Film82','2012.6.21',177,4,'opis'),
	('Film83','2018.4.16',66,5,'opis'),
	('Film84','2016.5.15',98,9,'opis'),
	('Film85','2018.3.24',142,15,'opis'),
	('Film86','2012.9.19',116,10,'opis'),
	('Film87','2018.9.5',174,8,'opis'),
	('Film88','2013.9.21',165,3,'opis'),
	('Film89','2017.8.13',151,1,'opis'),
	('Film90','2013.5.5',104,8,'opis'),
	('Film91','2014.4.20',94,2,'opis'),
	('Film92','2016.9.25',166,13,'opis'),
	('Film93','2012.8.8',101,5,'opis'),
	('Film94','2018.3.17',129,15,'opis'),
	('Film95','2017.7.19',75,11,'opis'),
	('Film96','2011.7.2',135,8,'opis'),
	('Film97','2018.8.8',177,3,'opis'),
	('Film98','2016.5.25',159,12,'opis'),
	('Film99','2013.3.25',65,14,'opis'),
	('Film100','2018.6.3',115,2,'opis'),
	('Film101','2013.8.17',109,11,'opis'),
	('Film102','2016.7.16',127,15,'opis'),
	('Film103','2010.9.6',103,14,'opis'),
	('Film104','2014.7.8',79,9,'opis'),
	('Film105','2015.4.22',161,10,'opis'),
	('Film106','2016.9.18',89,12,'opis'),
	('Film107','2015.7.17',120,2,'opis'),
	('Film108','2010.4.25',91,7,'opis'),
	('Film109','2011.8.9',159,10,'opis'),
	('Film110','2013.9.14',75,6,'opis'),
	('Film111','2013.5.27',165,8,'opis'),
	('Film112','2011.3.21',157,1,'opis'),
	('Film113','2017.9.9',157,7,'opis'),
	('Film114','2014.5.21',88,13,'opis'),
	('Film115','2012.8.1',148,7,'opis'),
	('Film116','2017.9.27',82,3,'opis'),
	('Film117','2016.5.14',162,6,'opis'),
	('Film118','2012.7.20',62,14,'opis'),
	('Film119','2018.6.1',87,9,'opis'),
	('Film120','2011.6.15',108,3,'opis'),
	('Film121','2010.4.7',95,3,'opis'),
	('Film122','2015.4.6',111,9,'opis'),
	('Film123','2013.4.16',133,5,'opis'),
	('Film124','2014.6.13',113,3,'opis'),
	('Film125','2017.7.20',100,13,'opis'),
	('Film126','2016.7.23',83,5,'opis'),
	('Film127','2013.5.15',64,3,'opis'),
	('Film128','2015.4.5',145,11,'opis'),
	('Film129','2010.6.8',110,9,'opis'),
	('Film130','2017.9.12',174,1,'opis'),
	('Film131','2015.3.2',92,5,'opis'),
	('Film132','2012.6.26',113,7,'opis'),
	('Film133','2018.6.29',71,3,'opis'),
	('Film134','2018.7.15',112,11,'opis'),
	('Film135','2012.5.22',148,2,'opis'),
	('Film136','2013.6.8',152,2,'opis'),
	('Film137','2016.5.24',76,12,'opis'),
	('Film138','2013.5.7',147,13,'opis'),
	('Film139','2010.4.21',97,12,'opis'),
	('Film140','2014.6.5',89,10,'opis'),
	('Film141','2010.6.29',88,11,'opis'),
	('Film142','2011.5.9',76,15,'opis'),
	('Film143','2018.4.4',103,10,'opis'),
	('Film144','2015.7.25',103,12,'opis'),
	('Film145','2015.6.23',129,11,'opis'),
	('Film146','2010.7.13',175,10,'opis'),
	('Film147','2017.4.1',76,15,'opis'),
	('Film148','2012.5.18',108,9,'opis'),
	('Film149','2011.3.3',153,15,'opis'),
	('Film150','2017.3.11',139,3,'opis');

INSERT INTO Uloga VALUES
	(3,24,7,'Ime1','opis'),
	(3,47,2,'Ime2','opis'),
	(4,9,5,'Ime1','opis'),
	(4,8,6,'Ime2','opis'),
	(4,45,6,'Ime3','opis'),
	(4,4,6,'Ime4','opis'),
	(5,30,1,'Ime1','opis'),
	(5,5,8,'Ime2','opis'),
	(5,48,2,'Ime3','opis'),
	(6,21,3,'Ime1','opis'),
	(6,42,10,'Ime2','opis'),
	(6,33,9,'Ime3','opis'),
	(6,5,7,'Ime4','opis'),
	(8,32,10,'Ime1','opis'),
	(8,3,4,'Ime2','opis'),
	(8,31,2,'Ime3','opis'),
	(8,5,2,'Ime4','opis'),
	(9,38,1,'Ime1','opis'),
	(10,16,3,'Ime1','opis'),
	(13,14,3,'Ime1','opis'),
	(13,43,9,'Ime2','opis'),
	(13,4,9,'Ime3','opis'),
	(13,30,1,'Ime4','opis'),
	(14,5,2,'Ime1','opis'),
	(15,16,4,'Ime1','opis'),
	(16,23,10,'Ime1','opis'),
	(16,46,1,'Ime2','opis'),
	(17,12,10,'Ime1','opis'),
	(17,46,10,'Ime2','opis'),
	(18,30,5,'Ime1','opis'),
	(18,39,2,'Ime2','opis'),
	(18,50,7,'Ime3','opis'),
	(19,24,10,'Ime1','opis'),
	(19,41,4,'Ime2','opis'),
	(19,13,2,'Ime3','opis'),
	(19,28,1,'Ime4','opis'),
	(20,17,3,'Ime1','opis'),
	(20,3,10,'Ime2','opis'),
	(21,3,5,'Ime1','opis'),
	(21,30,9,'Ime2','opis'),
	(21,19,4,'Ime3','opis'),
	(21,2,7,'Ime4','opis'),
	(22,14,4,'Ime1','opis'),
	(22,44,2,'Ime2','opis'),
	(22,24,5,'Ime3','opis'),
	(23,47,4,'Ime1','opis'),
	(23,24,4,'Ime2','opis'),
	(23,39,4,'Ime3','opis'),
	(23,27,2,'Ime4','opis'),
	(25,18,10,'Ime1','opis'),
	(25,5,9,'Ime2','opis'),
	(25,39,9,'Ime3','opis'),
	(27,27,1,'Ime1','opis'),
	(27,9,3,'Ime2','opis'),
	(27,32,4,'Ime3','opis'),
	(28,42,3,'Ime1','opis'),
	(28,28,10,'Ime2','opis'),
	(28,20,10,'Ime3','opis'),
	(28,5,7,'Ime4','opis'),
	(29,21,9,'Ime1','opis'),
	(29,29,7,'Ime2','opis'),
	(29,8,7,'Ime3','opis'),
	(30,25,7,'Ime1','opis'),
	(30,29,10,'Ime2','opis'),
	(30,2,6,'Ime3','opis'),
	(30,41,5,'Ime4','opis'),
	(31,42,5,'Ime1','opis'),
	(31,48,5,'Ime2','opis'),
	(32,32,8,'Ime1','opis'),
	(32,8,6,'Ime2','opis'),
	(32,47,2,'Ime3','opis'),
	(33,6,9,'Ime1','opis'),
	(33,42,3,'Ime2','opis'),
	(33,19,5,'Ime3','opis'),
	(33,24,10,'Ime4','opis'),
	(34,22,6,'Ime1','opis'),
	(35,7,7,'Ime1','opis'),
	(35,33,1,'Ime2','opis'),
	(35,19,8,'Ime3','opis'),
	(35,14,5,'Ime4','opis'),
	(37,29,6,'Ime1','opis'),
	(37,7,2,'Ime2','opis'),
	(38,40,1,'Ime1','opis'),
	(38,22,1,'Ime2','opis'),
	(38,11,6,'Ime3','opis'),
	(38,45,4,'Ime4','opis'),
	(39,38,7,'Ime1','opis'),
	(39,33,2,'Ime2','opis'),
	(39,17,6,'Ime3','opis'),
	(39,14,4,'Ime4','opis'),
	(40,6,4,'Ime1','opis'),
	(40,48,10,'Ime2','opis'),
	(40,36,8,'Ime3','opis'),
	(40,38,7,'Ime4','opis'),
	(41,48,7,'Ime1','opis'),
	(41,12,4,'Ime2','opis'),
	(41,7,3,'Ime3','opis'),
	(42,35,9,'Ime1','opis'),
	(42,43,4,'Ime2','opis'),
	(43,13,3,'Ime1','opis'),
	(44,40,3,'Ime1','opis'),
	(45,7,2,'Ime1','opis'),
	(45,6,5,'Ime2','opis'),
	(45,10,2,'Ime3','opis'),
	(46,2,9,'Ime1','opis'),
	(46,1,8,'Ime2','opis'),
	(46,18,7,'Ime3','opis'),
	(47,28,10,'Ime1','opis'),
	(48,37,7,'Ime1','opis'),
	(48,23,6,'Ime2','opis'),
	(48,23,7,'Ime3','opis'),
	(48,33,7,'Ime4','opis'),
	(49,3,5,'Ime1','opis'),
	(49,43,1,'Ime2','opis'),
	(50,10,5,'Ime1','opis'),
	(50,4,7,'Ime2','opis'),
	(50,25,6,'Ime3','opis'),
	(51,23,1,'Ime1','opis'),
	(51,32,2,'Ime2','opis'),
	(52,23,9,'Ime1','opis'),
	(53,10,10,'Ime1','opis'),
	(53,42,4,'Ime2','opis'),
	(54,30,2,'Ime1','opis'),
	(55,9,7,'Ime1','opis'),
	(55,28,5,'Ime2','opis'),
	(55,40,8,'Ime3','opis'),
	(55,7,2,'Ime4','opis'),
	(57,20,7,'Ime1','opis'),
	(57,47,6,'Ime2','opis'),
	(57,36,1,'Ime3','opis'),
	(58,25,3,'Ime1','opis'),
	(59,41,5,'Ime1','opis'),
	(59,5,2,'Ime2','opis'),
	(60,10,3,'Ime1','opis'),
	(60,3,7,'Ime2','opis'),
	(60,26,8,'Ime3','opis'),
	(63,46,10,'Ime1','opis'),
	(63,48,1,'Ime2','opis'),
	(64,34,10,'Ime1','opis'),
	(64,23,10,'Ime2','opis'),
	(64,30,1,'Ime3','opis'),
	(65,29,7,'Ime1','opis'),
	(66,39,10,'Ime1','opis'),
	(67,17,7,'Ime1','opis'),
	(67,2,8,'Ime2','opis'),
	(67,30,4,'Ime3','opis'),
	(67,36,6,'Ime4','opis'),
	(68,4,6,'Ime1','opis'),
	(68,34,10,'Ime2','opis'),
	(69,30,4,'Ime1','opis'),
	(70,39,2,'Ime1','opis'),
	(70,15,9,'Ime2','opis'),
	(70,31,7,'Ime3','opis'),
	(71,26,5,'Ime1','opis'),
	(73,31,7,'Ime1','opis'),
	(73,39,9,'Ime2','opis'),
	(74,50,8,'Ime1','opis'),
	(74,20,6,'Ime2','opis'),
	(76,29,4,'Ime1','opis'),
	(79,47,3,'Ime1','opis'),
	(79,31,8,'Ime2','opis'),
	(79,36,3,'Ime3','opis'),
	(79,48,6,'Ime4','opis'),
	(80,34,10,'Ime1','opis'),
	(80,36,1,'Ime2','opis'),
	(80,34,3,'Ime3','opis'),
	(82,12,10,'Ime1','opis'),
	(83,16,7,'Ime1','opis'),
	(83,7,1,'Ime2','opis'),
	(83,33,2,'Ime3','opis'),
	(83,42,5,'Ime4','opis'),
	(84,27,10,'Ime1','opis'),
	(84,37,5,'Ime2','opis'),
	(85,22,3,'Ime1','opis'),
	(85,45,4,'Ime2','opis'),
	(85,39,5,'Ime3','opis'),
	(86,14,3,'Ime1','opis'),
	(86,45,10,'Ime2','opis'),
	(86,50,4,'Ime3','opis'),
	(87,50,3,'Ime1','opis'),
	(87,15,2,'Ime2','opis'),
	(87,6,2,'Ime3','opis'),
	(87,28,4,'Ime4','opis'),
	(89,4,6,'Ime1','opis'),
	(89,20,5,'Ime2','opis'),
	(89,5,2,'Ime3','opis'),
	(90,14,3,'Ime1','opis'),
	(90,13,3,'Ime2','opis'),
	(90,48,3,'Ime3','opis'),
	(91,23,6,'Ime1','opis'),
	(91,13,1,'Ime2','opis'),
	(91,19,3,'Ime3','opis'),
	(91,1,7,'Ime4','opis'),
	(92,48,5,'Ime1','opis'),
	(92,9,3,'Ime2','opis'),
	(92,39,7,'Ime3','opis'),
	(92,15,3,'Ime4','opis'),
	(95,16,3,'Ime1','opis'),
	(97,10,2,'Ime1','opis'),
	(99,39,2,'Ime1','opis'),
	(99,33,1,'Ime2','opis'),
	(99,1,4,'Ime3','opis'),
	(100,28,10,'Ime1','opis'),
	(100,26,10,'Ime2','opis'),
	(100,45,6,'Ime3','opis'),
	(101,35,5,'Ime1','opis'),
	(101,49,10,'Ime2','opis'),
	(102,49,7,'Ime1','opis'),
	(102,48,1,'Ime2','opis'),
	(102,5,9,'Ime3','opis'),
	(102,48,6,'Ime4','opis'),
	(104,3,9,'Ime1','opis'),
	(104,12,2,'Ime2','opis'),
	(105,45,7,'Ime1','opis'),
	(106,23,2,'Ime1','opis'),
	(107,5,1,'Ime1','opis'),
	(107,18,7,'Ime2','opis'),
	(107,11,3,'Ime3','opis'),
	(107,35,9,'Ime4','opis'),
	(108,29,3,'Ime1','opis'),
	(108,14,3,'Ime2','opis'),
	(111,6,6,'Ime1','opis'),
	(111,13,1,'Ime2','opis'),
	(111,40,6,'Ime3','opis'),
	(111,50,9,'Ime4','opis'),
	(112,35,8,'Ime1','opis'),
	(112,15,6,'Ime2','opis'),
	(112,2,2,'Ime3','opis'),
	(113,38,1,'Ime1','opis'),
	(113,45,6,'Ime2','opis'),
	(114,18,9,'Ime1','opis'),
	(114,28,3,'Ime2','opis'),
	(115,31,10,'Ime1','opis'),
	(115,41,6,'Ime2','opis'),
	(115,49,10,'Ime3','opis'),
	(116,4,6,'Ime1','opis'),
	(117,11,1,'Ime1','opis'),
	(117,3,6,'Ime2','opis'),
	(117,4,5,'Ime3','opis'),
	(119,24,4,'Ime1','opis'),
	(119,17,6,'Ime2','opis'),
	(120,36,6,'Ime1','opis'),
	(120,12,3,'Ime2','opis'),
	(121,12,8,'Ime1','opis'),
	(121,35,7,'Ime2','opis'),
	(122,4,10,'Ime1','opis'),
	(122,2,1,'Ime2','opis'),
	(122,4,8,'Ime3','opis'),
	(123,3,5,'Ime1','opis'),
	(123,23,5,'Ime2','opis'),
	(123,17,7,'Ime3','opis'),
	(123,50,4,'Ime4','opis'),
	(124,8,4,'Ime1','opis'),
	(124,19,1,'Ime2','opis'),
	(125,20,1,'Ime1','opis'),
	(125,27,2,'Ime2','opis'),
	(125,4,8,'Ime3','opis'),
	(125,32,8,'Ime4','opis'),
	(126,41,1,'Ime1','opis'),
	(126,26,4,'Ime2','opis'),
	(126,49,7,'Ime3','opis'),
	(126,3,4,'Ime4','opis'),
	(127,41,7,'Ime1','opis'),
	(127,17,9,'Ime2','opis'),
	(127,5,1,'Ime3','opis'),
	(127,20,9,'Ime4','opis'),
	(128,50,10,'Ime1','opis'),
	(130,17,7,'Ime1','opis'),
	(130,46,7,'Ime2','opis'),
	(131,25,10,'Ime1','opis'),
	(131,1,10,'Ime2','opis'),
	(131,12,4,'Ime3','opis'),
	(131,32,7,'Ime4','opis'),
	(132,41,4,'Ime1','opis'),
	(134,24,8,'Ime1','opis'),
	(134,19,6,'Ime2','opis'),
	(134,23,6,'Ime3','opis'),
	(135,49,6,'Ime1','opis'),
	(135,37,3,'Ime2','opis'),
	(136,33,8,'Ime1','opis'),
	(136,39,4,'Ime2','opis'),
	(137,45,4,'Ime1','opis'),
	(137,15,9,'Ime2','opis'),
	(137,28,4,'Ime3','opis'),
	(138,43,4,'Ime1','opis'),
	(138,2,3,'Ime2','opis'),
	(138,24,7,'Ime3','opis'),
	(138,29,5,'Ime4','opis'),
	(139,17,6,'Ime1','opis'),
	(140,4,8,'Ime1','opis'),
	(142,9,9,'Ime1','opis'),
	(143,13,8,'Ime1','opis'),
	(143,23,6,'Ime2','opis'),
	(143,27,9,'Ime3','opis'),
	(143,13,7,'Ime4','opis'),
	(144,48,8,'Ime1','opis'),
	(144,43,10,'Ime2','opis'),
	(144,19,5,'Ime3','opis'),
	(144,36,1,'Ime4','opis'),
	(145,14,5,'Ime1','opis'),
	(145,46,2,'Ime2','opis'),
	(146,15,4,'Ime1','opis'),
	(146,14,5,'Ime2','opis'),
	(146,15,10,'Ime3','opis'),
	(147,2,2,'Ime1','opis'),
	(147,48,6,'Ime2','opis'),
	(147,8,2,'Ime3','opis'),
	(148,40,5,'Ime1','opis'),
	(149,11,10,'Ime1','opis'),
	(150,28,5,'Ime1','opis'),
	(150,24,7,'Ime2','opis'),
	(150,47,7,'Ime3','opis');

INSERT INTO Nagrada VALUES
	('Nagrada1',2009),
	('Nagrada2',2010),
	('Nagrada3',2002),
	('Nagrada4',2007),
	('Nagrada5',2006),
	('Nagrada6',2002),
	('Nagrada7',2001),
	('Nagrada8',2006),
	('Nagrada9',2005),
	('Nagrada10',2006),
	('Nagrada11',2003),
	('Nagrada12',2005),
	('Nagrada13',2003),
	('Nagrada14',2002),
	('Nagrada15',2008);

INSERT INTO Film_Nagrada VALUES
	(77,7,2019),
	(104,6,2011),
	(91,13,2015),
	(120,15,2015),
	(63,8,2013),
	(139,7,2011),
	(109,5,2011),
	(106,13,2015),
	(83,15,2016),
	(32,6,2017),
	(60,12,2017),
	(14,15,2013),
	(121,10,2014),
	(88,12,2011),
	(110,13,2012),
	(34,2,2011),
	(7,12,2019),
	(134,4,2012),
	(91,8,2013),
	(58,6,2018),
	(79,13,2012),
	(31,13,2014),
	(80,15,2014),
	(121,11,2013),
	(86,1,2012),
	(148,5,2012),
	(131,9,2019),
	(86,12,2013),
	(82,8,2012),
	(68,1,2015),
	(39,10,2015),
	(142,14,2014),
	(5,12,2011),
	(23,11,2015),
	(12,10,2017),
	(32,2,2013),
	(28,2,2013),
	(127,13,2016),
	(6,13,2015),
	(52,4,2019),
	(135,14,2016),
	(14,13,2011),
	(16,11,2015),
	(77,2,2016),
	(133,7,2019),
	(21,10,2017),
	(60,14,2015),
	(146,3,2014),
	(115,13,2013),
	(16,14,2014);
	
INSERT INTO Producent VALUES
	('Producent1','producent1@gmail.com','www.producent1.com'),
	('Producent2','producent2@gmail.com','www.producent2.com'),
	('Producent3','producent3@gmail.com','www.producent3.com'),
	('Producent4','producent4@gmail.com','www.producent4.com'),
	('Producent5','producent5@gmail.com','www.producent5.com'),
	('Producent6','producent6@gmail.com','www.producent6.com'),
	('Producent7','producent7@gmail.com','www.producent7.com'),
	('Producent8','producent8@gmail.com','www.producent8.com'),
	('Producent9','producent9@gmail.com','www.producent9.com'),
	('Producent10','producent10@gmail.com','www.producent10.com'),
	('Producent11','producent11@gmail.com','www.producent11.com'),
	('Producent12','producent12@gmail.com','www.producent12.com'),
	('Producent13','producent13@gmail.com','www.producent13.com'),
	('Producent14','producent14@gmail.com','www.producent14.com'),
	('Producent15','producent15@gmail.com','www.producent15.com'),
	('Producent16','producent16@gmail.com','www.producent16.com'),
	('Producent17','producent17@gmail.com','www.producent17.com'),
	('Producent18','producent18@gmail.com','www.producent18.com'),
	('Producent19','producent19@gmail.com','www.producent19.com'),
	('Producent20','producent20@gmail.com','www.producent20.com');

INSERT INTO Producirao VALUES
	(1,4),
	(2,14),
	(3,1),
	(4,9),
	(5,20),
	(6,13),
	(7,4),
	(8,4),
	(9,1),
	(10,7),
	(11,19),
	(12,1),
	(13,8),
	(14,2),
	(15,2),
	(16,19),
	(17,3),
	(18,9),
	(19,18),
	(20,11),
	(21,8),
	(22,14),
	(23,4),
	(24,14),
	(25,3),
	(26,15),
	(27,9),
	(28,5),
	(29,7),
	(30,9),
	(31,15),
	(32,19),
	(33,8),
	(34,6),
	(35,15),
	(36,7),
	(37,5),
	(38,1),
	(39,10),
	(40,11),
	(41,14),
	(42,18),
	(43,12),
	(44,2),
	(45,8),
	(46,5),
	(47,17),
	(48,14),
	(49,14),
	(50,2),
	(51,14),
	(52,6),
	(53,10),
	(54,4),
	(55,12),
	(56,10),
	(57,10),
	(58,7),
	(59,7),
	(60,5),
	(61,5),
	(62,20),
	(63,17),
	(64,12),
	(65,13),
	(66,20),
	(67,13),
	(68,2),
	(69,8),
	(70,15),
	(71,14),
	(72,2),
	(73,20),
	(74,8),
	(75,17),
	(76,10),
	(77,3),
	(78,3),
	(79,7),
	(80,18),
	(81,19),
	(82,15),
	(83,11),
	(84,6),
	(85,16),
	(86,9),
	(87,10),
	(88,5),
	(89,14),
	(90,5),
	(91,18),
	(92,18),
	(93,15),
	(94,5),
	(95,6),
	(96,15),
	(97,1),
	(98,20),
	(99,10),
	(100,8),
	(101,13),
	(102,15),
	(103,7),
	(104,20),
	(105,9),
	(106,12),
	(107,7),
	(108,2),
	(109,7),
	(110,2),
	(111,7),
	(112,8),
	(113,1),
	(114,9),
	(115,7),
	(116,10),
	(117,9),
	(118,12),
	(119,17),
	(120,4),
	(121,11),
	(122,8),
	(123,8),
	(124,3),
	(125,18),
	(126,16),
	(127,8),
	(128,15),
	(129,2),
	(130,2),
	(131,10),
	(132,4),
	(133,14),
	(134,19),
	(135,6),
	(136,4),
	(137,9),
	(138,12),
	(139,17),
	(140,4),
	(141,3),
	(142,8),
	(143,19),
	(144,13),
	(145,18),
	(146,10),
	(147,18),
	(148,6),
	(149,18),
	(150,17);


/*Foreign keys*/

ALTER TABLE Uloga ADD CONSTRAINT FK_Uloga_filmID FOREIGN KEY (filmID) REFERENCES Film(filmID) ON DELETE CASCADE;
ALTER TABLE Uloga ADD CONSTRAINT FK_Uloga_glumacID FOREIGN KEY (glumacID) REFERENCES Glumac(glumacID)ON DELETE CASCADE;
ALTER TABLE Uloga ADD CONSTRAINT FK_Uloga_tip_uloge FOREIGN KEY (tip_ulogeID) REFERENCES Tip_Uloge(tip_ulogeID)ON DELETE CASCADE;
ALTER TABLE Film ADD CONSTRAINT FK_Film_znarID FOREIGN KEY (zanrID) REFERENCES Zanr(zanrID)ON DELETE CASCADE;
ALTER TABLE Producirao ADD CONSTRAINT FK_Producirao_producentID FOREIGN KEY (producentID) REFERENCES Producent(producentID)ON DELETE CASCADE;
ALTER TABLE Producirao ADD CONSTRAINT FK_Producirao_filmID FOREIGN KEY (filmID) REFERENCES Film(filmID) ON DELETE CASCADE;
ALTER TABLE Film_Nagrada ADD CONSTRAINT FK_Film_Nagrada_filmID FOREIGN KEY (filmID) REFERENCES Film(filmID) ON DELETE CASCADE;
ALTER TABLE Film_Nagrada ADD CONSTRAINT FK_Film_Nagrada_nagradaID FOREIGN KEY (nagradaID) REFERENCES Nagrada(nagradaID) ON DELETE CASCADE;

/*Dopuna*/

CREATE TABLE Uposlenik(
	uposlenikID int IDENTITY(1,1),
	ime varchar(50),
	prezime varchar(70),
	adresa varchar(100),
	telefon varchar(20)	
);

CREATE TABLE Uzeti_Film(
	uposlenikID int not null,
	filmID int not null,
	datum_uzimanja date not null,
	datum_vracanja date
);

CREATE TRIGGER uzet
ON Uzeti_Film
INSTEAD OF INSERT
AS
BEGIN
	IF
	(
		(
			SELECT filmID FROM inserted
			WHERE 
				filmID NOT IN (SELECT filmID FROM Uzeti_Film WHERE datum_vracanja IS NULL ) 
			AND 
				datum_uzimanja >ISNULL((SELECT MAX(datum_vracanja) FROM Uzeti_Film WHERE filmID = inserted.filmID),'')
		) IS NOT NULL
	)
		INSERT INTO Uzeti_Film (uposlenikID, filmID,datum_uzimanja)
		SELECT uposlenikID, filmID,datum_uzimanja FROM inserted;
	ELSE 
		SELECT  'Film je vec pozajmljen' AS 'ERROR MESSAGE';
END

ALTER TABLE Uzeti_Film ADD CONSTRAINT datum CHECK (datum_uzimanja<datum_vracanja);
ALTER TABLE Uposlenik ADD CONSTRAINT PK_Uposlenik PRIMARY KEY (uposlenikID);
ALTER TABLE Uzeti_Film ADD CONSTRAINT PK_Uzeti_Film PRIMARY KEY (uposlenikID,filmID,datum_uzimanja);
ALTER TABLE Uzeti_FIlm ADD CONSTRAINT FK_Uzeti_Film_uposlenikID FOREIGN KEY (uposlenikID) REFERENCES Uposlenik(uposlenikID) ON DELETE CASCADE;
ALTER TABLE Uzeti_FIlm ADD CONSTRAINT FK_Uzeti_Film_filmID FOREIGN KEY (filmID) REFERENCES Film(filmID) ON DELETE CASCADE;


ALTER TABLE Glumac ADD nadimak varchar(50);

/*
	USE master;
	DROP DATABASE A13;
*/